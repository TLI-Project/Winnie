<!DOCTYPE html>
<html lang="">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
<body>

<canvas id="myChart" style="width:100%;max-width:600px"></canvas>

<script>

    function generateTotalCapitalAndInterest(input){
        const num_installments = input["installments"].length;
        const interest = input['installments'][-1]['interestSum'];
        let result = [0,interest];
        for (let i = 0; i < num_installments; i++){
            result[0] = result[0] + input["installments"][i]["capital"];
        }
        return result;
    }


    var input1 = {"installments":[{"capital":270.79,"interest":14.5,"installment":285.29,"remain":9729.21,"interestSum":14.5},{"capital":271.18,"interest":14.11,"installment":285.29,"remain":9458.029999999999,"interestSum":28.61},{"capital":271.58000000000004,"interest":13.71,"installment":285.29,"remain":9186.45,"interestSum":42.32},{"capital":271.97,"interest":13.32,"installment":285.29,"remain":8914.480000000001,"interestSum":55.64},{"capital":272.36,"interest":12.93,"installment":285.29,"remain":8642.119999999999,"interestSum":68.57},{"capital":272.76000000000005,"interest":12.53,"installment":285.29,"remain":8369.359999999999,"interestSum":81.1},{"capital":273.15000000000003,"interest":12.14,"installment":285.29,"remain":8096.210000000001,"interestSum":93.24},{"capital":273.55,"interest":11.74,"installment":285.29,"remain":7822.66,"interestSum":104.97999999999999},{"capital":273.95000000000005,"interest":11.34,"installment":285.29,"remain":7548.71,"interestSum":116.32},{"capital":274.34000000000003,"interest":10.95,"installment":285.29,"remain":7274.37,"interestSum":127.27},{"capital":274.74,"interest":10.55,"installment":285.29,"remain":6999.63,"interestSum":137.82},{"capital":275.14000000000004,"interest":10.15,"installment":285.29,"remain":6724.49,"interestSum":147.97},{"capital":275.54,"interest":9.75,"installment":285.29,"remain":6448.95,"interestSum":157.72},{"capital":275.94,"interest":9.35,"installment":285.29,"remain":6173.010000000001,"interestSum":167.07},{"capital":276.34000000000003,"interest":8.95,"installment":285.29,"remain":5896.67,"interestSum":176.01999999999998},{"capital":276.74,"interest":8.55,"installment":285.29,"remain":5619.93,"interestSum":184.57},{"capital":277.14000000000004,"interest":8.15,"installment":285.29,"remain":5342.79,"interestSum":192.72},{"capital":277.54,"interest":7.75,"installment":285.29,"remain":5065.25,"interestSum":200.47},{"capital":277.95000000000005,"interest":7.34,"installment":285.29,"remain":4787.3,"interestSum":207.81},{"capital":278.35,"interest":6.94,"installment":285.29,"remain":4508.95,"interestSum":214.75},{"capital":278.75,"interest":6.54,"installment":285.29,"remain":4230.2,"interestSum":221.29},{"capital":279.16,"interest":6.13,"installment":285.29,"remain":3951.04,"interestSum":227.42},{"capital":279.56,"interest":5.73,"installment":285.29,"remain":3671.48,"interestSum":233.14999999999998},{"capital":279.97,"interest":5.32,"installment":285.29,"remain":3391.5099999999993,"interestSum":238.46999999999997},{"capital":280.37,"interest":4.92,"installment":285.29,"remain":3111.1399999999994,"interestSum":243.38999999999996},{"capital":280.78000000000003,"interest":4.51,"installment":285.29,"remain":2830.359999999999,"interestSum":247.89999999999995},{"capital":281.19,"interest":4.1,"installment":285.29,"remain":2549.1699999999996,"interestSum":251.99999999999994},{"capital":281.59000000000003,"interest":3.7,"installment":285.29,"remain":2267.58,"interestSum":255.69999999999993},{"capital":282,"interest":3.29,"installment":285.29,"remain":1985.58,"interestSum":258.98999999999995},{"capital":282.41,"interest":2.88,"installment":285.29,"remain":1703.1699999999998,"interestSum":261.86999999999995},{"capital":282.82,"interest":2.47,"installment":285.29,"remain":1420.3500000000001,"interestSum":264.34},{"capital":283.23,"interest":2.06,"installment":285.29,"remain":1137.1200000000003,"interestSum":266.4},{"capital":283.64000000000004,"interest":1.65,"installment":285.29,"remain":853.4800000000007,"interestSum":268.04999999999995},{"capital":284.05,"interest":1.24,"installment":285.29,"remain":569.4300000000014,"interestSum":269.28999999999996},{"capital":284.46000000000004,"interest":0.83,"installment":285.29,"remain":284.9700000000021,"interestSum":270.11999999999995},{"capital":284.88,"interest":0.41,"installment":285.29,"remain":0,"interestSum":270.53}],"amount":10000,"interestSum":270.53,"capitalSum":10000,"sum":10270.53,"interestRate":1.74,"term":"36"};

    var input2 = {"installments":[{"capital":268.02000000000004,"interest":20.33,"installment":288.35,"remain":9731.98,"interestSum":20.33},{"capital":268.56,"interest":19.79,"installment":288.35,"remain":9463.42,"interestSum":40.12},{"capital":269.11,"interest":19.24,"installment":288.35,"remain":9194.31,"interestSum":59.36},{"capital":269.65000000000003,"interest":18.7,"installment":288.35,"remain":8924.66,"interestSum":78.06},{"capital":270.20000000000005,"interest":18.15,"installment":288.35,"remain":8654.46,"interestSum":96.21000000000001},{"capital":270.75,"interest":17.6,"installment":288.35,"remain":8383.71,"interestSum":113.81},{"capital":271.3,"interest":17.05,"installment":288.35,"remain":8112.409999999999,"interestSum":130.86},{"capital":271.85,"interest":16.5,"installment":288.35,"remain":7840.5599999999995,"interestSum":147.36},{"capital":272.41,"interest":15.94,"installment":288.35,"remain":7568.15,"interestSum":163.3},{"capital":272.96000000000004,"interest":15.39,"installment":288.35,"remain":7295.19,"interestSum":178.69},{"capital":273.52000000000004,"interest":14.83,"installment":288.35,"remain":7021.67,"interestSum":193.52},{"capital":274.07000000000005,"interest":14.28,"installment":288.35,"remain":6747.6,"interestSum":207.8},{"capital":274.63,"interest":13.72,"installment":288.35,"remain":6472.97,"interestSum":221.52},{"capital":275.19,"interest":13.16,"installment":288.35,"remain":6197.78,"interestSum":234.68},{"capital":275.75,"interest":12.6,"installment":288.35,"remain":5922.03,"interestSum":247.28},{"capital":276.31,"interest":12.04,"installment":288.35,"remain":5645.719999999999,"interestSum":259.32},{"capital":276.87,"interest":11.48,"installment":288.35,"remain":5368.849999999999,"interestSum":270.8},{"capital":277.43,"interest":10.92,"installment":288.35,"remain":5091.419999999999,"interestSum":281.72},{"capital":278,"interest":10.35,"installment":288.35,"remain":4813.419999999999,"interestSum":292.07000000000005},{"capital":278.56,"interest":9.79,"installment":288.35,"remain":4534.859999999999,"interestSum":301.86000000000007},{"capital":279.13,"interest":9.22,"installment":288.35,"remain":4255.729999999999,"interestSum":311.0800000000001},{"capital":279.70000000000005,"interest":8.65,"installment":288.35,"remain":3976.029999999999,"interestSum":319.7300000000001},{"capital":280.27000000000004,"interest":8.08,"installment":288.35,"remain":3695.759999999999,"interestSum":327.81000000000006},{"capital":280.84000000000003,"interest":7.51,"installment":288.35,"remain":3414.9199999999983,"interestSum":335.32000000000005},{"capital":281.41,"interest":6.94,"installment":288.35,"remain":3133.5099999999984,"interestSum":342.26000000000005},{"capital":281.98,"interest":6.37,"installment":288.35,"remain":2851.5299999999984,"interestSum":348.63000000000005},{"capital":282.55,"interest":5.8,"installment":288.35,"remain":2568.9799999999987,"interestSum":354.43000000000006},{"capital":283.13,"interest":5.22,"installment":288.35,"remain":2285.8499999999985,"interestSum":359.6500000000001},{"capital":283.70000000000005,"interest":4.65,"installment":288.35,"remain":2002.1499999999985,"interestSum":364.30000000000007},{"capital":284.28000000000003,"interest":4.07,"installment":288.35,"remain":1717.8699999999988,"interestSum":368.37000000000006},{"capital":284.86,"interest":3.49,"installment":288.35,"remain":1433.0099999999989,"interestSum":371.86000000000007},{"capital":285.44,"interest":2.91,"installment":288.35,"remain":1147.5699999999983,"interestSum":374.7700000000001},{"capital":286.02000000000004,"interest":2.33,"installment":288.35,"remain":861.5499999999979,"interestSum":377.1000000000001},{"capital":286.6,"interest":1.75,"installment":288.35,"remain":574.9499999999974,"interestSum":378.8500000000001},{"capital":287.18,"interest":1.17,"installment":288.35,"remain":287.7699999999971,"interestSum":380.0200000000001},{"capital":287.76000000000005,"interest":0.59,"installment":288.35,"remain":0,"interestSum":380.61000000000007}],"amount":10000,"interestSum":380.61,"capitalSum":10000,"sum":10380.61,"interestRate":2.44,"term":"36"};
    var input3 = {"installments":[{"capital":159.63000000000002,"interest":14.7,"installment":174.33,"remain":5840.37,"interestSum":14.7},{"capital":160.02,"interest":14.31,"installment":174.33,"remain":5680.349999999999,"interestSum":29.009999999999998},{"capital":160.41000000000003,"interest":13.92,"installment":174.33,"remain":5519.9400000000005,"interestSum":42.93},{"capital":160.81,"interest":13.52,"installment":174.33,"remain":5359.129999999999,"interestSum":56.45},{"capital":161.20000000000002,"interest":13.13,"installment":174.33,"remain":5197.93,"interestSum":69.58},{"capital":161.60000000000002,"interest":12.73,"installment":174.33,"remain":5036.33,"interestSum":82.31},{"capital":161.99,"interest":12.34,"installment":174.33,"remain":4874.34,"interestSum":94.65},{"capital":162.39000000000001,"interest":11.94,"installment":174.33,"remain":4711.95,"interestSum":106.59},{"capital":162.79000000000002,"interest":11.54,"installment":174.33,"remain":4549.16,"interestSum":118.13},{"capital":163.18,"interest":11.15,"installment":174.33,"remain":4385.98,"interestSum":129.28},{"capital":163.58,"interest":10.75,"installment":174.33,"remain":4222.4,"interestSum":140.03},{"capital":163.99,"interest":10.34,"installment":174.33,"remain":4058.41,"interestSum":150.37},{"capital":164.39000000000001,"interest":9.94,"installment":174.33,"remain":3894.02,"interestSum":160.31},{"capital":164.79000000000002,"interest":9.54,"installment":174.33,"remain":3729.2299999999996,"interestSum":169.85},{"capital":165.19,"interest":9.14,"installment":174.33,"remain":3564.0399999999995,"interestSum":178.99},{"capital":165.60000000000002,"interest":8.73,"installment":174.33,"remain":3398.4399999999996,"interestSum":187.72},{"capital":166,"interest":8.33,"installment":174.33,"remain":3232.4399999999996,"interestSum":196.05},{"capital":166.41000000000003,"interest":7.92,"installment":174.33,"remain":3066.0299999999997,"interestSum":203.97},{"capital":166.82000000000002,"interest":7.51,"installment":174.33,"remain":2899.2099999999996,"interestSum":211.48},{"capital":167.23000000000002,"interest":7.1,"installment":174.33,"remain":2731.9799999999996,"interestSum":218.57999999999998},{"capital":167.64000000000001,"interest":6.69,"installment":174.33,"remain":2564.3399999999997,"interestSum":225.26999999999998},{"capital":168.05,"interest":6.28,"installment":174.33,"remain":2396.2899999999995,"interestSum":231.54999999999998},{"capital":168.46,"interest":5.87,"installment":174.33,"remain":2227.8299999999995,"interestSum":237.42},{"capital":168.87,"interest":5.46,"installment":174.33,"remain":2058.9599999999996,"interestSum":242.88},{"capital":169.29000000000002,"interest":5.04,"installment":174.33,"remain":1889.6699999999996,"interestSum":247.92},{"capital":169.70000000000002,"interest":4.63,"installment":174.33,"remain":1719.9699999999991,"interestSum":252.54999999999998},{"capital":170.12,"interest":4.21,"installment":174.33,"remain":1549.8499999999995,"interestSum":256.76},{"capital":170.53,"interest":3.8,"installment":174.33,"remain":1379.3199999999995,"interestSum":260.56},{"capital":170.95000000000002,"interest":3.38,"installment":174.33,"remain":1208.3699999999997,"interestSum":263.94},{"capital":171.37,"interest":2.96,"installment":174.33,"remain":1037,"interestSum":266.9},{"capital":171.79000000000002,"interest":2.54,"installment":174.33,"remain":865.21,"interestSum":269.44},{"capital":172.21,"interest":2.12,"installment":174.33,"remain":693,"interestSum":271.56},{"capital":172.63000000000002,"interest":1.7,"installment":174.33,"remain":520.37,"interestSum":273.26},{"capital":173.06,"interest":1.27,"installment":174.33,"remain":347.3099999999999,"interestSum":274.53},{"capital":173.48000000000002,"interest":0.85,"installment":174.33,"remain":173.82999999999947,"interestSum":275.38},{"capital":173.9,"interest":0.43,"installment":174.33,"remain":0,"interestSum":275.81}],"amount":6000,"interestSum":275.81,"capitalSum":6000,"sum":6275.81,"interestRate":2.94,"term":"36"};
    var input4 = {"installments":[{"capital":162.48000000000002,"interest":8.7,"installment":171.18,"remain":5837.52,"interestSum":8.7},{"capital":162.72,"interest":8.46,"installment":171.18,"remain":5674.8,"interestSum":17.16},{"capital":162.95000000000002,"interest":8.23,"installment":171.18,"remain":5511.85,"interestSum":25.39},{"capital":163.19,"interest":7.99,"installment":171.18,"remain":5348.660000000001,"interestSum":33.38},{"capital":163.42000000000002,"interest":7.76,"installment":171.18,"remain":5185.24,"interestSum":41.14},{"capital":163.66,"interest":7.52,"installment":171.18,"remain":5021.58,"interestSum":48.66},{"capital":163.9,"interest":7.28,"installment":171.18,"remain":4857.68,"interestSum":55.94},{"capital":164.14000000000001,"interest":7.04,"installment":171.18,"remain":4693.54,"interestSum":62.98},{"capital":164.37,"interest":6.81,"installment":171.18,"remain":4529.17,"interestSum":69.78999999999999},{"capital":164.61,"interest":6.57,"installment":171.18,"remain":4364.56,"interestSum":76.35999999999999},{"capital":164.85,"interest":6.33,"installment":171.18,"remain":4199.709999999999,"interestSum":82.68999999999998},{"capital":165.09,"interest":6.09,"installment":171.18,"remain":4034.619999999999,"interestSum":88.77999999999999},{"capital":165.33,"interest":5.85,"installment":171.18,"remain":3869.29,"interestSum":94.62999999999998},{"capital":165.57,"interest":5.61,"installment":171.18,"remain":3703.7199999999993,"interestSum":100.23999999999998},{"capital":165.81,"interest":5.37,"installment":171.18,"remain":3537.9099999999994,"interestSum":105.60999999999999},{"capital":166.05,"interest":5.13,"installment":171.18,"remain":3371.859999999999,"interestSum":110.73999999999998},{"capital":166.29000000000002,"interest":4.89,"installment":171.18,"remain":3205.5699999999993,"interestSum":115.62999999999998},{"capital":166.53,"interest":4.65,"installment":171.18,"remain":3039.039999999999,"interestSum":120.27999999999999},{"capital":166.77,"interest":4.41,"installment":171.18,"remain":2872.269999999999,"interestSum":124.68999999999998},{"capital":167.02,"interest":4.16,"installment":171.18,"remain":2705.249999999999,"interestSum":128.85},{"capital":167.26000000000002,"interest":3.92,"installment":171.18,"remain":2537.989999999999,"interestSum":132.76999999999998},{"capital":167.5,"interest":3.68,"installment":171.18,"remain":2370.489999999999,"interestSum":136.45},{"capital":167.74,"interest":3.44,"installment":171.18,"remain":2202.749999999999,"interestSum":139.89},{"capital":167.99,"interest":3.19,"installment":171.18,"remain":2034.759999999999,"interestSum":143.07999999999998},{"capital":168.23000000000002,"interest":2.95,"installment":171.18,"remain":1866.5299999999993,"interestSum":146.02999999999997},{"capital":168.47,"interest":2.71,"installment":171.18,"remain":1698.0599999999988,"interestSum":148.73999999999998},{"capital":168.72,"interest":2.46,"installment":171.18,"remain":1529.3399999999986,"interestSum":151.2},{"capital":168.96,"interest":2.22,"installment":171.18,"remain":1360.3799999999983,"interestSum":153.42},{"capital":169.21,"interest":1.97,"installment":171.18,"remain":1191.1699999999983,"interestSum":155.39},{"capital":169.45000000000002,"interest":1.73,"installment":171.18,"remain":1021.7199999999982,"interestSum":157.11999999999998},{"capital":169.70000000000002,"interest":1.48,"installment":171.18,"remain":852.0199999999984,"interestSum":158.59999999999997},{"capital":169.94,"interest":1.24,"installment":171.18,"remain":682.0799999999986,"interestSum":159.83999999999997},{"capital":170.19,"interest":0.99,"installment":171.18,"remain":511.889999999999,"interestSum":160.82999999999998},{"capital":170.44,"interest":0.74,"installment":171.18,"remain":341.4499999999994,"interestSum":161.57},{"capital":170.68,"interest":0.5,"installment":171.18,"remain":170.7699999999998,"interestSum":162.07},{"capital":170.93,"interest":0.25,"installment":171.18,"remain":0,"interestSum":162.32}],"amount":6000,"interestSum":162.32,"capitalSum":6000,"sum":6162.32,"interestRate":1.74,"term":"36"};


    var cars = [input1, input2, input3, input4];
    var barColors = ["red", "green","blue","orange"];
    var car_capitals = [];
    var car_interest_rates = [];

    for(let i = 0; i < cars.length; i++){
        car_capitals.push(generateTotalCapitalAndInterest(cars[i])[0]);
        car_interest_rates.push(generateTotalCapitalAndInterest(cars[i])[1]);
    }
    console.log(car_capitals)

    var xValues = ["Car1", "Car2", "Car3", "Car4"];
    var yValues = car_capitals;


    new Chart("myChart", {
        type: "bar",
        data: {
            labels: xValues,
            datasets: [{
                backgroundColor: barColors,
                data: yValues
            }]
        },
        options: {
            legend: {display: false},
            title: {
                display: true,
                text: "World Wine Production 2018"
            }
        }
    });
</script>

</body>
</html>
